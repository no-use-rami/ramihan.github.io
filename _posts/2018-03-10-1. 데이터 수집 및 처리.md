## 1. 데이터 수집 및 처리

#### 	1. 웹사이트에 삽입되는 자바스크립트 추적 코드에서 시작

- 페이지 로드, 동영상 재생, 링크 클릭 등의 구체적인 상호작용 추적


- 추적하는 웹사이트의 도메인을 '사이트'로 지정

  > 도메인이 다른 페이지에 동일한 추적 코드를 설치하면 애널리틱스에서 사용자와 세션을 별도로 집계함

  - 웹페이지에서 사용자 상호작용이 발생할 때마다 '조회' 생성

    > '조회'는 사용자와 관련된 정보들의 매개변수가 있는 URL 문자열의 형태
    >
    > 브라우저 언어, 조회중인 페이지 이름, 화면 해상도, 애널리틱스 ID 등

  - 가장 일반적인 조회 유형 3가지

    1. 페이지뷰 : 추적 코드가 삽입된 웹페이지가 로드될 때 실행
    2. 이벤트 : 웹사이트의 특정 요소와 상호작용하는 순간을 추적
    3. 거래(전자상거래) : 구매한 제품, 거래ID, 재고 보관 단위 등 관련 데이터
       ​

#### 2. 사용자 및 세션 분류하기

- 초반 과정
  1. 신규 사용자와 재사용자 구분
  2. 조회를 세션(사이트에 참여한 시간)으로 구분
  3. 추적 코드의 데이터를 다른 데이터 소스와 결합
- 신규 사용자/재사용자
  - 사용자의 브라우저 쿠키와 연결되는 임의의 고유 ID 생성
    - 웹브라우저에서 쿠키가 삭제 또는 차단될 경우 다음 번에 페이지를 로드할 때 새로운 고유 ID를 설정, '재사용자'가 아닌 '신규 사용자'로 집계함.
  - 동일한 기기의 동일한 브라우저일 때 여러 세션에 걸쳐 사용자를 인식
    - 여러 기기에서 사용자를 추적하려면 User ID 기능을 사용해야 함
- 세션 정의
  - 조회의 생성 시간에 기초해 사용자 조회 분류 -> '세션 수'로 측정
  - 추적 코드가 있는 페이지로 이동할 때 세션이 시작되고 '페이지뷰'조회 생성, 다른 조회가 기록되지 않으면 30분 후 세션 종료
    - 이벤트 발생 시 '세션 당 n회의 조회'로 측정됨
  - 구성에서 세션 제한시간 변경 가능
- google 애널리틱스 데이터와 다른 소스 연결
  - 측정 프로토콜 이용
    - POS, 웹 연결 키오스크 등 데이터를 애널리틱스로 전송
    - URL 문자열을 통해 데이터 수집 조회를 직접 전송
  - 다른 구글 계정에 연결
    - 애드워즈, 애드센스, 서치콘솔 등 마케팅 도구를 통해 애드워즈 클릭수/노출수/비용 데이터 조회 가능
      ​

#### 3. 구성 설정 적용하기

- 데이터의 처리 방식을 결정
  - 데이터 필터
    - 보기에서 특정 데이터만 사용하도록 하는 규칙
      - 특정 국가의 데이터만 포함하거나
      - 내부 직원 데이터를 제외할 때
- 목표
  - 도착(페이지뷰) 
  - 이벤트 : 특정 행동
  - 기간 : 세션이 일정 시간 이어지는 것이 목적일 때
  - '세션 당 페이지 수 또는 화면수' : 한 세션에서 일정 수 이상의 페이지를 조회하는 것이 목적일 때
- 맞춤 측정기준 및 측정항목
  - 맞춤 측정기준
    - 표준 보고서에서 이차적 측정기준
    - 맞춤 보고서에서는 기본 측정기준 또는 세그먼트로 사용 가능
  - 맞춤 측정항목
    - 표준 측정기준이나 사전 정의 측정항목으로 측정할 수 없는 기준을 통해 수집 
      ​

#### 4. 데이터 저장하기 및 보고서 만들기

- 모든 보고서에는 측정기준 별로 측정항목 여러 개가 연결됨

- 애널리틱스에서는 측정항목을 두 가지 방식으로 집계함

  - 총 세션 수, 사용자 수, 페이지뷰 수처럼 통합 집계
  - 국가 당 신규 사용자 수 등 구체적인 측정기준으로 집계

- 주요 측정항목의 집계 방식

  - '페이지에 머문 시간' : 페이지뷰 조회 시각을 다음 페이지뷰 조회의 시각에서 빼서 계산
  - '세션당 페이지수' : 사용자가 세션에서 발생시킨 순 페이지뷰 조회수의 평균값
  - 평균 세션 시간 : 사이트를 떠나거나 세션 제한 시간이 종료되기 전 첫 번째 조회부터 마지막 조회까지 이어진 평균 시간
  - 이탈률 : 세션 시간이나 머문 시간을 계산하기 위해 두 번째 상호작용 없이 한 번만 발생시킨 사용자를 분석하는 과정에서 계산.
    - 이탈이 발생하면 이 방문에 할당된 세션 시간과 페이지에 머문 시간이 0이 됨

- 측정기준과 측정항목에 적용되는 3개의 범위

  - 조회 수준
  - 세션 수준
  - 사용자 수준

  > 범위가 동일한 측정기준 - 측정항목만 쌍으로 연결 가능

  > 직접 만든 맞춤 측정기준과 맞춤 측정항목의 범위는 수동으로 설정해야 함

- 애널리틱스가 측정기준-측정항목을 연결하면 고유 속성 ID와 필터링되지 않은 원본 데이터를 연결함

  - 생성된 보고서 표기 별로 필터 및 구성 설정이 적용된 데이터가 추가되며, 이 '통합' 데이터 표에서는 매일 데이터 처리가 이루어짐
  - 일부 데이터가 많을 경우 수집된 모든 데이터를 계산하지 않고 샘플을 보여줌
  - 일반 사용자의 경우 보기 수준이 아닌 속성 수준에서 샘플링 발생. (실제보다 세션 수가 적을 수 있음)
    ​

#### 5. 측정 계획 수립하기

- 거시 전환과 미시 전환
  - 거시 전환 
    - 비즈니스의 목표를 충족하는 핵심 행동(예: 구매) 등
  - 미시 전환 
    - 사용자를 기본 목표에 도달하도록 유도하는 협의의 목표(예 : 이메일 쿠폰 신청, 신제품 알림 신청 등)
- 측정 계획
  - 비즈니스 목표에 맞춰 애널리틱스 구성 설정
    - 비즈니스 목표, 지원 전략, 전술
    - 각 전술에는 거시 또는 미시 전환을 측정하는 핵심성과지표(KPI) 포함
- 계획 단계
  1. 비즈니스 목표 
  2. 전략
  3. 세부 전략
  4. 핵심성과지표
  5. 전환 목표
  6. 세그먼트(측정 기준 : 인구통계, 트래픽 소스, 기기 유형, 사용자 카테고리 등)







