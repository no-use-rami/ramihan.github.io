### 1. 애널리틱스 계정 구성

- 여러 계정 또는 속성 관리하기
  - 조직 - 계정 - 속성
  - 각 속성에 대한 보기(복수 설정 가능)
    - '원시 데이터'
    - '테스트'
    - '마스터'
  - 비즈니스 목표에 따라 여러 계정을 사용해 여러 개의 조직-계정-속성을 서로 다르게 설정 가능
  - 계정마다 고유한 ID 할당
    - 애널리틱스 추적 코드를 통해 조회 데이터를 전송하는 데 활용
- 속성
  - 예) 하나의 서비스에 대해 웹사이트 / 앱의 데이터를 각기 다른 속ㅅ성에서 관리하며 각 데이터 세트를 개별적으로 분석할 때
  - 하나의 속성에서 URL 또는 하위 도메인이 서로 다른 관련 웹사이트 2개를 관리할 경우 '교차 도메인 추적' 설정
    - 동일한 세션에서 발생하는 관련 웹사이트 간 이동을 인식함 = '사이트 연결'
    - 추적하려는 모든 사이트의 각 페이지에서 애널리틱스 추적 코드를 수정해야 함(GTM 활용하면 편리함)
  - 애널리틱스 360 이용할 경우 '롤업 보고' 이용해 여러 속성의 데이터를 하나의 새로운 통합 속성에서 자동 집계 가능
- 사용자 권한
  - 각 애널리틱스 계정에는 속성 수가 제한되며, 각 속성에도 보기 수가 제한됨
  - 예) 회사의 각 부서에 해당하는 여러 하위 디렉토리로 구성된 사이트의 관리자일 경우
    - 필터를 이용해 부서 별 보기를 만듦
    - 각 부서의 구성원에게 각 보기에 대한 액세스 권한 부여 가능



### 2. 보기에서 고급 필터 설정

- 필터를 이용하면 보고서의 데이터 범위를 좁힐 수 있음
  - 필터가 적용된 보기를 통해 하위 도메인을 추적하거나 구체적인 활동 추적
- 필터의 유형 - '사전 정의된' 필터와 '맞춤' 필터
  - 사전 정의된 필터
    - 애널리틱스에서 기본 제공(선택하기만 하면 됨)
    - 특정 ISP 도메인, IP주소, 하위 디렉토리 또는 호스트 이름에서 유입된 트래픽을 포함 또는 제외 가능
  - 맞춤 필터
    - 포함 필터
      - 예) 비즈니스가 모바일 분야로 진출하고, 보기에서 모바일 트래픽만 분석하려 할 때
        - 기기 카테고리만 '포함'하는 필터 지정, 값으로 '휴대기기' 지정
      - 예) 특정 캠페인의 데이터만 조회할 경우
        - 특정 이름의 캠페인만 포함하도록 지정된 매개변수 입력
        - 보기 권한을 활용해 지정된 파트너와 공유 가능
    - 제외 필터
      - 예) 유료 검색(또는 CPC) 트래픽을 제외하려면 특정 보기에서 모든 유료 트래픽을 제외하는 맞춤 '제외' 필터 설정 가능
    - 소문자 및 대문자 필터
      - 애널리틱스 데이터에서는 대소문자 구분 안함
        - 모든 페이지 보고서에서 동일한 페이지 URL이 여러번 나타날 수 있음
      - 해당 필터를 이용하면 대소문자만 다른 행을 결합해 중복을 제거함
    - 고급 필터
      - '정규 표현식(reg ex)'을 활용해 키워드 유사어를 식별하거나 기술적 매개변수로 동일한 페이지의 주소가 다르게 나타날 경우 등
- 필터는 데이터에 소급 적용되지 않음, 최대 24시간 소요
- 필터 적용 순서 매우 중요 
  - 각 필터가 다음 필터로 필터링된 데이터를 전달
  - '관리' 에서 '필터' 선택 후 순서 조정 가능
- 여러 보기에 걸쳐 필터를 사용할 수 있지만, 필터를 변경하면 모든 보기에 변경사항이 적용되므로 신중히 사용
  - 마스터 보기와 테스트 보기를 만들고 실시간 보고서를 이용해 제대로 작동하는지 시험해 볼 것
  - 모든 데이터가 필터링되려면 몇 시간이 걸릴 수 있음
- 구성이 설정된 후에는 애널리틱스가 필터에 기반해 각 조회를 확인하면서 데이터를 처리함
  - '조회'가 필터의 로직과 일치할 때 해당 필터 적용



### 3. 맞춤 측정기준 만들기

- 페이지에 구현된 자바스크립트 추적 코드를 이용해 맞춤 측정기준의 데이터 수집 가능
- 설정
  - '관리' - 적용할 속성 선택 - '맞춤 정의' - '맞춤 측정기준' 선택 - '새 맞춤 측정기준'
  - 맞춤 측정기준의 이름 지정 - 범위 지정
    - 선택할 수 있는 범위
      - '조회' 
      - '제품' 
      - '세션' 
      - '사용자'
- 기본 체크박스는 맞춤 측정기준이 사용되도록 설정됨
  - 체크박스를 해제하면 맞춤 측정기준 사용 중지
  - 이미 수집된 데이터는 보고서에 나타나지만, 사용 중지된 이후의 데이터는 수집되지 않음
- 맞춤 측정기준을 설정한 후 애널리틱스에서 복사한 자바스크립트 추적 코드를 웹사이트 코드에 구현해야 맞춤 데이터가 수집됨
- GTM을 활용하면 맞춤 측정기준 추적 코드를 쉽게 관리 가능
- 예) '사용자' 범위에서 직원의 할인 링크 방문을 추적할 때
  - 직원 할인 링크를 통한 사이트 방문을 추적한 뒤 맞춤 측정기준 추적 코드로 사용자 값을 전송
  - 해당 사용자가 처음으로 실행한 페이지뷰 조회에 측정기준 데이터 추가
    - 색인 번호
    - 맞춤 측정기준(변수)
  - 색인 및 값 변수에 사용자 상태가 반영됨
  - 이 데이터가 보고서에 적용되는 맞춤 측정기준에 반영됨
- 보고서의 맞춤 측정기준 이용
  - 표준 보고서에서 두 번째 측정기준으로 사용
  - 맞춤 보고서에서는 기본 측정기준으로 사용 가능
  - 맞춤 측정기준은 이전에 수집했던 데이터에 적용할 수 없음
    - 맞춤 측정기준을 먼저 만들고 처리 중인 데이터에 적용해 보고서에 나타나게 해야 함
    - 표준 애널리틱스 사용자는 최대 20개, 애널리틱스 360 고객은 최대 200개의 맞춤 측정기준 생성 가능



### 4. 맞춤 측정항목 만들기

- 내 비즈니스에 맞는 측정항목을 선별해서 수집
  - 페이지에 로드된 광고 수
  - 페이지가 로드될 때 사용된 대역폭
  - 각 마케팅 채널에서 발생한 브랜드 페이지뷰의 총 횟수 등
- 예) 구글 상품 매장에서 안드로이드 브랜드의 상품 페이지뷰에 기여한 마케팅 채널을 확인하려 할 때
  - 페이지뷰 조회와 함께 실행되고 애널리틱스의 맞춤 측정항목에 반영되는 추적 코드를 상품 페이지에 삽입
  - 관리 - 측정항목을 적용할 속성 선택 - '맞춤 정의', '맞춤 측정항목' - '새 맞춤 측정항목' 선택
  - 맞춤 측정항목의 이름과 범위 지정
    - 선택할 수 있는 범위
      - '조회'
        - 추적 코드에 의해 조회가 전송될 때마다 맞춤 측정항목 집계, 총계 산출
      - '제품'
        - 제품에 할당된 비용에 따라 맞춤 측정항목이 집계됨
  - 맞춤 측정항목의 형식 지정
    - 정수
    - 통화(십진수)
    - 시간
  - 보고서에 포함할지 여부를 결정할 최소값/최대값 지정 가능
    - 너무 크거나 작은 값이 수집되어 보고서를 왜곡하는 현상 방지
  - 측정항목이 사용 중지되면 더 이상 데이터가 수집되지 않음
  - 맞춤 측정항목을 처음 저장하면 웹사이트에 삽입할 자바스크립트가 제공되는 화면으로 이동함
    - 색인(슬롯 번호) - 만들어진 순서대로 할당(고정)
    - 값 - 조회에 추가되는 측정항목
- 맞춤 측정항목을 계획할 때 유의할 사항
  - 보고서에 나타나는 방식을 고려해 페이지에서 조회 별로 특정 값의 맞춤 측정항목을 전송하거나 조회 별로 각기 다른 값을 직접 지정할 수 있음
  - 세션 수준 측정기준(예 : '소스/매체')과 함께 맞춤 측정항목을 사용할 경우, 어떤 조회로 인해 맞춤 측정항목이 증가할 지 고려
    - 세션 당 1회 증가하기를 원하면 그에 맞춰 데이터 수집을 구성할 것
  - 이전에 수집했던 데이터에는 적용할 수 없음
    ​

### 5. 이벤트 추적을 활용한 사용자 행동 이해

- 이벤트 추적을 이용하면 사용자가 웹사이트에 참여하고 내가 원하는 행동을 하는지를 쉽게 알아낼 수 있음
  - 전체 탐색바 클릭 추적 등
- 이벤트 데이터를 수집하려면 사이트의 개별 요소에 자바스크립트를 추가해야 함
  - 추적하려는 요소나 상태 별로 별도의 이벤트 추적 설정
    - 동영상의 재생/일시중지 시점
      - 버튼이 재생 상태일 때
      - 버튼이 일시중지 상태일 때
      - 별도의 이벤트 추적 설정
- 이벤트 추적이 설정된 요소에서 작업을 수행하면 이벤트 추적 코드에서 조회와 함께 4개의 매개변수가 전달됨
  - 카테고리
    - 추적하는 이벤트를 그룹으로 분류
      - 예) 동영상, 소셜 공유 등
  - 액션
    - 사용자가 이벤트를 시작할 때 한 행동
      - 예) 동영상 재생 버튼을 클릭하는 시점을 추적할 때 재생 액션 - 동영상 카테고리로 연결
  - 라벨
    - 보고서 이해를 돕는 선택사항으로, 추적하는 요소를 설명하는 값임
      - 예) 동영상의 이름 등
  - 값
    - 특정 행동이 발생할 때의 가치를 지정하는 선택사항
      - 예) 동영상 로드 시간, 이벤트 액션의 가치, 특정 행동이 발생할 때의 금액 등
- 이벤트 추적 코드가 탐색 요소에 추가되면 사용자가 상호작용할 때마다 할당된 매개변수를 전달하며, 이벤트 보고서에 나타남
  - 총 이벤트 수 / 순 이벤트 수
  - '인기 이벤트'는 설정한 이벤트 카테고리 별로 측정항목 표시
- 이벤트를 통해 외부 링크 클릭으로 사이트를 떠나는 것도 추적 가능
  - 예) 상품 매장의 상단 탐색바에 클릭하면 팝업창으로 열리는 라이브 채팅 버튼이 있는 경우
    - 팝업창은 외부 업체가 구현
    - 기본 설정에서는 추적되지 않는 외부 URL로 연결됨
    - '라이브 채팅' 버튼에 이벤트 추적을 설정
      - '외부 링크' 카테고리
      - '라이브 채팅' 액션
      - '홈'(버튼이 있는 위치) 라벨
    - 버튼을 어디에서, 몇 번 클릭했는지 추적 가능
      ​

### 6. 기타 유용한 구성

- 인구통계 및 관심분야 보고서

  - 구글 애널리틱스에서 표준 추적 코드와 구글 광고 쿠키(있는 경우)를 사용해 익명의 인구통계 데이터를 수집

- 사이트 내 검색

  - 웹사이트 내부에 검색창이 있을 경우, 사용자가 입력하는 검색어를 추적 가능
  - 관리 - 보기 - 보기 설정 클릭
    - '사이트 검색 설정' - '설정' 활성화
    - 사용자가 사이트에서 검색할 때 웹사이트URL에서 활용할 '검색어 매개변수' 입력
      - 일반적으로 검색어 매개변수 앞에 물음표가 표시되고 뒤에 문자나 단어, 그 다음에 등호, 검색어 순서로 표시됨
      - 'URL에서 검색어 매개변수를 제거합니다.'를 선택해 콘텐츠 보고서에서 삭제하여 중복 데이터 제거
    - 사이트에 검색 카테고리가 있는 경우 함께 추적 가능
  - 사이트 검색 측정항목
    - 검색 후 이탈수
      - 사용자가 사이트를 떠나기 직전에 한 검색 횟수
    - 재검색수
      - 사용자가 검색 직후 다시 검색한 횟수
    - 검색 후 시간
      - 사용자가 검색 후에 사이트에 머문 시간
    - 평균 검색 심도
      - 검색결과가 나온 후에 사용자가 조회한 페이지 갯수
  - 사이트 검색을 설정한 후 통계가 생성될 정도로 데이터가 누적되기까지 1~2주 소요될 수도 있음
  - 사이트 검색 보고서
    - 활용 정보 보고서
      - 획득, 행동, 전환 측정항목을 기준으로 사이트 검색 관련 통계가 분류됨
    - 검색어 보고서
      - 표로 웹사이트 검색어를 모두 확인 가능
    - 페이지 보고서
      - 검색이 자주 이루어지는 페이지 확인 가능
      - 두 번째 측정기준인 '검색어'를 추가하면 사이트 최적화가 필요한 영역을 찾을 수 있음
      - 예) 특정 제품 페이지에서 많은 검색이 시작된다면 사용자가 기대하는 정보와 페이지에 실제로 있는 정보가 다를 가능성 높음

  > [사이트 검색 측정항목의 집계 방식](https://support.google.com/analytics/answer/1032321) 

- 계산된 측정항목

  - 애널리틱스에서 수집한 측정항목에 간단한 계산을 할 수 있는 기능
  - 관리 - 보기 - 계산된 측정항목 - 새 계산된 측정항목 선택
  - 이름 및 형식 지정
    - 측정항목이 분수가 될 가능성이 크다면 형식 유형을 '부동'으로 설정
  - 입력란을 기입하기 시작하면 미리 정의된 측정항목의 목록이 표시되며, 이를 이용해 사칙연산 공식을 만들 수 있음
    - 공식에 들어갈 수 있는 문자는 1,024자로 제한
  - 예) 새 계산된 측정항목 '유저 당 페이지뷰 수' 생성
    - 기존 맞춤 측정항목 '페이지뷰' 입력
    - 나누기 기호 입력
    - '사용자 수' 측정항목 입력

  > [계산된 측정항목 정보](https://support.google.com/analytics/answer/6121409) 

- 채널 그룹

  - 보고서 상에서 채널을 원하는대로 분류할 때
  - 예) '획득' 아래의 '모든 트래픽'에 있는 '채널 보고서'
    - 기본(시스템) 채널
      - 자연 검색, 소셜, 직접, 추천, 디스플레이 등
  - 관리 - 보기 - 채널 설정에서 설정
    - 사용 중인 기본 및 맞춤 채널 그룹 확인 가능
    - 채널의 명칭, 측정기준의 규칙, 디스플레이 색상 변경 가능
  - 예) 기본 채널인 소셜 그룹에 google 플러스와 페이스북 트래픽만 포함하려는 경우
    - 정의 수정
      - 시스템 정의 채널 - 일치 - 소셜에서
      - '소스' - '다음을 포함' : 'plus.google.com'또는 'facebook.com'으로 변경
    - 정의를 수정할 경우 차후 트래픽이 분류되는 방식과 표시되는 방식이 영구적으로 변함. 단, 이전의 기본 채널 그룹 데이터는 영향을 받지 않음
    - 채널 목록 상단의 '채널 재설정'을 클릭하면 원래의 기본 설정으로 돌아감. 단, 변경되었던 분류는 소급 적용되지 않음.
  - 기본 채널그룹 외 새로운 채널 그룹 생성 가능
    - 보기 1개 당 최대 50개의 채널 그룹 가능
      - 해당 보기에 대한 액세스 권한이 있는 모든 사용자에게 표시됨
      - 나만 볼 수 있는 채널을 만들고 싶은 경우, 관리-맞춤 도구 및 자산 - 맞춤 채널 그룹 클릭
        - 사용자 별로 최대 100개의 그룹 생성 가능
  - 맞춤 채널 그룹을 복사/삭제/공유할 수 있음
    - 구성 정보만 공유되며 데이터는 비공개 상태로 유지

  > [채널 그룹 소개](https://support.google.com/analytics/answer/6010097)

- 콘텐츠 분류

  - 웹사이트의 구성에 맞춰 보고서의 페이지 분류
    - 각 그룹에 어떤 페이지가 속할 지에 대한 규칙 지정
    - 최대 5개의 콘텐츠 그룹 가능
      - 그룹 1개를 정의하는 규칙은 무제한
  - 관리-보기-콘텐츠 그룹 선택
  - 페이지를 그룹에 할당하는 세 가지 방법
    - 추적 코드별로 그룹화
    - 추출을 사용하는 그룹
      - URL 구조를 사용하여 그룹의 이름을 추출하는 정규 표현식을 추가해야 함
    - 규칙 정의를 사용하는 그룹
      - 단순한 로직에 기반함
        - 예) 페이지 다음을 포함 : android 등
        - 1개 이상 지정
    - 2개 이상의 방법을 동시 사용 가능
      - 첫 번째로 일치하는 방법에 따라 콘텐츠가 분류됨
  - 콘텐츠 분류는 소급 적용되지 않음(그룹 생성일 이후의 데이터만 포함)

  > [콘텐츠 분류 정보](https://support.google.com/analytics/answer/2853423?ref_topic=1727167) 

- 향상된 전자상거래

  - 사이트의 마케팅, 제품 페이지, 결제 과정과 사용자의 상호작용 방법 등 측정

    - 제품 링크 클릭수
    - 제품 세부정보 페이지 조회수
    - 내부 프로모션 노출수 및 클릭수
    - 장바구니에서 제품을 추가 또는 삭제한 횟수
    - 제품의 결제 과정을 시작한 횟수
    - 구매 및 환불 횟수

  - 관리 - 적용할 보기 선택 - 전자상거래 설정

  - (선택 사항) 추적할 결제 과정의 단계 별로 라벨을 입력해 사용자의 이탈 여부와 이탈 지점을 손쉽게 파악 가능

  - 추가 전자상거래 보고서에 데이터가 표시되려면 향상된 전자상거래 플러그인을 로드할 웹페이지에 자바스크립트 코드를 추가해야 함

    - 플러그인을 설치판 후에는 사용하려는 향상된 전자상거래 메소드를 호출하는 코드를 추가로 작성해야 함
      - 이름-값의 쌍으로 구성
      - 조회와 함께 전자상거래 관련 데이터를 전송함

  - 예) 제품 노출 데이터를 수집하기 위해 설정할 때

    - 제품 노출의 정의 : 사용자가 웹사이트에서 제품을 조회하는 순간

      - 'add impression' 메소드를 이용

    - 구체적인 제품 데이터가 포함되도록 코드 맞춤설정

      - 코드 예시

        ![코드 예시](https://lh3.googleusercontent.com/7HJhTm9GhfiFFZ_Rpr_NHzSIWrhHrFlMAXflUkOXLk4-a0sunsnBNMnX9qhOCRvZqLk=w400) 

    -  상당수 코드 스니펫의 작동 방식이 유사함

      - 제품 페이지에 코드를 삽입하면 쇼핑 과정의 여러 지점에서 데이터가 전송됨
      - 장바구니를 추적할 경우 addProduct 메소드 활용

  > [향상된 전자상거래 설정](https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce#migration) 

- User-ID

  - 기본적으로 애널리틱스는 여러 기기에서 교차 방문한 사용자를 인식하지 못하고 순 사용자로 계산함
  - 여러 기기에 걸쳐 사용자를 추적하려면 User-ID 기능을 사용하고 특정 User-ID 보기를 만들어 분석 필요
  - 웹사이트와 데이터베이스의 ID를 연결할 수도 있음
    - 데이터베이스에서 User ID를 가져와 웹 서버를 통해 전송하면 애널리틱스 추적 코드에 데이터 조회와 함께 ID가 표시됨
  - User ID 기능을 구현하려면 자바스크립트 코드를 사용해 고유 ID를 생성하고, 이 ID를 사용자에게 지속적으로 할당하며, 구글 애널리틱스에 조회 데이터를 전송할 때마다 이 ID를 포함할 수 있어야 함
  - 관리 - 계정 및 속성 - 추적 정보 - User ID 에서 설정
    - User ID 정책 검토
    - 애널리틱스에서 제공하는 코드를 맞춤설정
      - 전송하려는 User ID를 수집하도록
  - 사용자가 로그인하지 않아 User ID를 수집할 수 없는 경우
    - 애널리틱스 기본 작동 방식으로 자체 User ID가 생성되며, 교차 기기 측정은 진행되지 않음
  - 단일 사용자와 여러 User ID가 연결되지 않게 하려면
    - '세션 통합' 설정
    - User ID가 할당되기 전 동일한 세션에서 수집된 조회가 같은 User ID와 연결됨
    - User ID는 첫 번째 세션에서 설정해야 함
  - User ID 데이터를 분석하려면
    - User ID 값이 설정된 조회를 포함하는 데이터만 필터링한 보기를 만들어야 함
    - 표준 보기와 서로 변환할 수 없음
    - 표준 보기의 데이터보다 수는 적지만 심도 있는 분석 가능
  - User ID 게재 비율 보고서
    - ID가 인증된 사용자 트래픽의 비율이 표시됨
    - 충성도 높은 고객 대상의 인센티브/맞춤 경험등을 제공할 경우 이에 대한 트래픽 변화 측정 가능
  - 인증된 사용자와 인증되지 않은 사용자 비교 세그먼트
    - 각각의 획득 채널, 행동 흐름 등 탐색
  - 기기 오버랩 보고서
    - 데스크톱/태블릿/모바일을 통해 조회하거나, 2개 이상의 기기를 동시에 사용하는 사용자의 수를 확인 가능
  - 기기 경로 보고서
    - 내 콘텐츠를 조회할 때 사용한 기기 카테고리의 순서가 표시되어 사용자가 번갈아 사용하는 패턴 파악 가능
    - 특정 카테고리의 기기 이전 또는 이후의 과정만 표시되도록 보고서 조정 가능
    - 단계 갯수에 따라 경로를 조사할 수 있음

  > [User ID 기능 정보](https://support.google.com/analytics/answer/3123662) 

- 데이터 가져오기

  - 다른 시스템의 데이터를 구글 애널리틱스로 업로드 가능
  - 기존 측정기준과 업로드된 데이터의 측정기준을 연결하는 '키' 사용
  - 데이터 세트 정의 - 데이터 스키마 생성
    - 스키마 템플릿에 모든 키 값과 측정항목 입력
  - 가져온 데이터를 처리하는 데 최대 24시간이 소요되며, 해당 데이터는 가져오기가 처리된 이후에만 사용 가능, 가져오기 이전의 기간에는 표시되지 않음

  > [데이터 가져오기 정보](https://support.google.com/analytics/answer/3191589)

